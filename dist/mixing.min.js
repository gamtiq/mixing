!function(o,e){if(void 0===o&&void 0!==window&&(o=window),"object"==typeof module&&module.exports)module.exports=e(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],e);else{var r=o,t={exports:r};o.mixing=e(function(e){return o[e]},r,t)}}(this,function(e,o,r){var v;function d(e,o){var r,t,n,c;if(Array.isArray(e)){if(0<e.length)for(r={},t=e.length;r[e[--t]]=o||null,t;);}else"string"===(c=typeof e)||"symbol"===c?(r={})[e]=o||null:"object"===c&&(e instanceof RegExp?n=e:r=e);return{map:r,regexp:n}}function w(e,o,r,t){var n,c,i,p,u,a=o[r],f=r.toString();t.ownProperty&&!o.hasOwnProperty(r)||t.copyMap&&!(r in t.copyMap)||t.copyRegExp&&!t.copyRegExp.test(f)||t.exceptions&&t.exceptions[r]||t.exceptRegExp&&t.exceptRegExp.test(f)||t.filter&&!t.filter.call(null,{field:r,value:a,target:e,source:o})||t.filterRegExp&&!t.filterRegExp.test("symbol"==typeof a?a.toString():a)||((i=t.otherNameMap)&&r in i&&(r=i[r]),p=typeof a,!(t.recursive&&a&&"object"===p&&(u=e[r])&&"object"==typeof u)||Array.isArray(a)&&!t.mixFromArray||Array.isArray(u)&&!t.mixToArray?(n="function"===p,!t.overwrite&&r in e||n&&!t.copyFunc||(t.changeFunc?a=t.changeFunc.call(null,{field:r,value:a,target:e,source:o}):(c=t.change)&&r in c&&(a=c[r]),n&&t.funcToProto?e.constructor.prototype[r]=a:e[r]=a)):E(u,a,t.mixFromArray?E({oneSource:!0},t):t))}function E(e,o,r){var t=typeof e,n=typeof o;if(e&&("object"===t||"function"===t)&&o&&("object"===n||"function"===n)){var c;"object"!=typeof r||null===r?r=v||{}:v&&(c=v,v=null,r=E({},[r,c]),v=c),Array.isArray(o)&&!r.oneSource||(o=[o]);var i,p,u,a,f,l=Object.getOwnPropertySymbols,y=Object.getPrototypeOf,s={copyFunc:!("copyFunc"in r)||r.copyFunc,funcToProto:Boolean(r.funcToProto),processSymbol:(!("processSymbol"in r)||r.processSymbol)&&"function"==typeof l,mixFromArray:Boolean(r.mixFromArray),mixToArray:Boolean(r.mixToArray),overwrite:Boolean(r.overwrite),ownProperty:Boolean(r.ownProperty),recursive:Boolean(r.recursive),otherNameMap:"otherName"in r?r.otherName:null,changeFunc:r.changeFunc,copyMap:r.copyMap,copyRegExp:r.copyRegExp,exceptions:r.exceptions,exceptRegExp:r.exceptRegExp,filterRegExp:r.filterRegExp},g=s.ownProperty,x=s.processSymbol,m=r.change,h=r.copy,A=r.except,b=r.filter;for(h&&(h=d(h),s.copyMap=h.map,s.copyRegExp=h.regexp),A&&(A=d(A,!0),s.exceptions=A.map,s.exceptRegExp=A.regexp),b&&(s["object"==typeof b?"filterRegExp":"filter"]=b),m&&(s["function"==typeof m?"changeFunc":"change"]=m),i=0,u=o.length;i<u;i++)if(c=o[i]){for(f in c)w(e,c,f,s);if(x){A={};do{for(p=0,a=(h=l(c)).length;p<a;p++)(f=h[p])in A||(w(e,c,f,s),A[f]=!0);c=g?null:y(c)}while(c)}}}return e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),E.assign=function(e){return E(e,Array.prototype.slice.call(arguments,1),{overwrite:!0,ownProperty:!0})},E.change=function(e,o){return E(e,e,{change:o,overwrite:!0,oneSource:!0})},E.copy=function(e,o){return E({},e,o)},E.mixToItems=function(e,o,r){for(var t=0,n=e.length;t<n;t++)e[t]=E(e[t],o,r);return e},E.clone=function(e){return E({},this,e)},E.filter=function(e){return E({},this,"function"==typeof e?{filter:e}:e)},E.map=function(e){return E({},this,"function"==typeof e?{change:e}:e)},E.mix=function(e,o){return E(this,e,o)},E.update=function(e){return E.change(this,e)},E.getSettings=function(){return v},E.setSettings=function(e){v="object"==typeof e?e:null},r.exports=E});