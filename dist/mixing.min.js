!function(a,b){if("object"==typeof exports)module.exports=b(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],b);else{var c=function(b){return a[b]},d=a,e={exports:d};a.mixing=b(c,d,e)}}(this,function(a,b,c){function d(a){var b,c,d,e;if(Array.isArray(a)){if(a.length>0){b={},c=a.length;do b[a[--c]]=null;while(c)}}else e=typeof a,"string"===e||"symbol"===e?(b={},b[a]=null):"object"===e&&(a instanceof RegExp?d=a:b=a);return{map:b,regexp:d}}function e(a,b,c,d){var e,g,h,i,j,k=b[c],l=c.toString();d.ownProperty&&!b.hasOwnProperty(c)||d.copyMap&&!(c in d.copyMap)||d.copyRegExp&&!d.copyRegExp.test(l)||d.exceptions&&c in d.exceptions||d.exceptRegExp&&d.exceptRegExp.test(l)||d.filter&&!d.filter.call(null,{field:c,value:k,target:a,source:b})||d.filterRegExp&&!d.filterRegExp.test("symbol"==typeof k?k.toString():k)||(h=d.otherNameMap,h&&c in h&&(c=h[c]),i=typeof k,!(d.recursive&&k&&"object"===i&&(j=a[c])&&"object"==typeof j)||Array.isArray(k)&&!d.mixFromArray||Array.isArray(j)&&!d.mixToArray?(e="function"===i,!d.overwrite&&c in a||e&&!d.copyFunc||(d.changeFunc?k=d.changeFunc.call(null,{field:c,value:k,target:a,source:b}):(g=d.change)&&c in g&&(k=g[c]),e&&d.funcToProto?a.constructor.prototype[c]=k:a[c]=k)):f(j,k,d.mixFromArray?f({oneSource:!0},d):d))}function f(a,b,c){if("object"==typeof b&&null!==b){("object"!=typeof c||null===c)&&(c={}),(!Array.isArray(b)||c.oneSource)&&(b=[b]);var f,g,h,i,j,k,l=Object.getOwnPropertySymbols,m=Object.getPrototypeOf,n={copyFunc:"copyFunc"in c?c.copyFunc:!0,funcToProto:Boolean(c.funcToProto),processSymbol:("processSymbol"in c?c.processSymbol:!0)&&"function"==typeof l,mixFromArray:Boolean(c.mixFromArray),mixToArray:Boolean(c.mixToArray),overwrite:Boolean(c.overwrite),ownProperty:Boolean(c.ownProperty),recursive:Boolean(c.recursive),otherNameMap:"otherName"in c?c.otherName:null},o=n.ownProperty,p=n.processSymbol,q=c.change,r=c.copy,s=c.except,t=c.filter;for(r&&(r=d(r),n.copyMap=r.map,n.copyRegExp=r.regexp),s&&(s=d(s),n.exceptions=s.map,n.exceptRegExp=s.regexp),t&&(n["object"==typeof t?"filterRegExp":"filter"]=t),q&&(n["function"==typeof q?"changeFunc":"change"]=q),f=0,h=b.length;h>f;f++)if(j=b[f]){for(k in j)e(a,j,k,n);if(p){s={};do{for(r=l(j),g=0,i=r.length;i>g;g++)k=r[g],k in s||(e(a,j,k,n),s[k]=!0);j=o?null:m(j)}while(j)}}}return a}return Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),f.change=function(a,b){return f(a,a,{change:b,overwrite:!0,oneSource:!0})},f.copy=function(a,b){return f({},a,b)},f.clone=function(a){return f({},this,a)},f.filter=function(a){return f({},this,"function"==typeof a?{filter:a}:a)},f.map=function(a){return f({},this,"function"==typeof a?{change:a}:a)},f.mix=function(a,b){return f(this,a,b)},f.update=function(a){return f.change(this,a)},c.exports=f,f});