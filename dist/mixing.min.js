!function(a,b){if("object"==typeof exports)module.exports=b(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],b);else{var c=function(b){return a[b]},d=a,e={exports:d};a.mixing=b(c,d,e)}}(this,function(a,b,c){function d(a){var b,c,d,e;if(Array.isArray(a)){if(a.length>0){b={},c=a.length;do b[a[--c]]=null;while(c)}}else e=typeof a,"string"===e?(b={},b[a]=null):"object"===e&&(a instanceof RegExp?d=a:b=a);return{map:b,regexp:d}}function e(a,b,c){if("object"==typeof b&&null!==b){("object"!=typeof c||null===c)&&(c={}),(!Array.isArray(b)||c.oneSource)&&(b=[b]);var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="copyFunc"in c?c.copyFunc:!0,v=Boolean(c.funcToProto),w=Boolean(c.mixFromArray),x=Boolean(c.mixToArray),y=Boolean(c.overwrite),z=Boolean(c.ownProperty),A=Boolean(c.recursive),B=c.filter,C="otherName"in c?c.otherName:null,D=c.copy,E=c.except;for(D&&(D=d(D),i=D.map,j=D.regexp),E&&(E=d(E),k=E.map,l=E.regexp),B&&"object"==typeof B&&(m=B,B=null),c.change&&("function"==typeof c.change?h=c.change:g=c.change),n=0,o=b.length;o>n;n++)if(p=b[n])for(q in p)r=p[q],z&&!p.hasOwnProperty(q)||i&&!(q in i)||j&&!j.test(q)||k&&q in k||l&&l.test(q)||B&&!B(q,r,a,p)||m&&!m.test(r)||(C&&q in C&&(q=C[q]),s=typeof r,!(A&&r&&"object"===s&&(t=a[q])&&"object"==typeof t)||Array.isArray(r)&&!w||Array.isArray(t)&&!x?(f="function"===s,!y&&q in a||f&&!u||(h?r=h(q,r,a,p):g&&q in g&&(r=g[q]),f&&v?a.constructor.prototype[q]=r:a[q]=r)):e(t,r,w?e({oneSource:!0},c):c))}return a}return Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),e.change=function(a,b){return e(a,a,{change:b,overwrite:!0,oneSource:!0})},e.copy=function(a,b){return e({},a,b)},e.clone=function(a){return e({},this,a)},e.filter=function(a){return e({},this,"function"==typeof a?{filter:a}:a)},e.map=function(a){return e({},this,"function"==typeof a?{change:a}:a)},e.mix=function(a,b){return e(this,a,b)},e.update=function(a){return e.change(this,a)},c.exports=e,e});