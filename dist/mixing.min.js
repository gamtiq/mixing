!function(o,e){if(void 0===o&&void 0!==window&&(o=window),"object"==typeof module&&module.exports)module.exports=e(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],e);else{var r=o,t={exports:r};o.mixing=e(function(e){return o[e]},r,t)}}(this,function(e,o,r){var v;function d(e,o){var r,t,n,i;if(Array.isArray(e)){if(0<e.length)for(r={},t=e.length;r[e[--t]]=o||null,t;);}else"string"===(i=typeof e)||"symbol"===i?(r={})[e]=o||null:"object"===i&&(e instanceof RegExp?n=e:r=e);return{map:r,regexp:n}}function w(e,o,r,t){var n,i,c,p,u,f=o[r],a=r.toString();t.ownProperty&&!o.hasOwnProperty(r)||t.copyMap&&!(r in t.copyMap)||t.copyRegExp&&!t.copyRegExp.test(a)||t.exceptions&&t.exceptions[r]||t.exceptRegExp&&t.exceptRegExp.test(a)||t.filter&&!t.filter.call(null,{field:r,value:f,target:e,source:o})||t.filterRegExp&&!t.filterRegExp.test("symbol"==typeof f?f.toString():f)||((c=t.otherNameMap)&&r in c&&(r=c[r]),p=typeof f,!(t.recursive&&f&&"object"===p&&(u=e[r])&&"object"==typeof u)||Array.isArray(f)&&!t.mixFromArray||Array.isArray(u)&&!t.mixToArray?(n="function"===p,!t.overwrite&&r in e||n&&!t.copyFunc||(t.changeFunc?f=t.changeFunc.call(null,{field:r,value:f,target:e,source:o}):(i=t.change)&&r in i&&(f=i[r]),n&&t.funcToProto?e.constructor.prototype[r]=f:e[r]=f)):j(u,f,t.mixFromArray?j({oneSource:!0},t):t))}function j(e,o,r){var t=typeof e,n=typeof o;if(e&&("object"===t||"function"===t)&&o&&("object"===n||"function"===n)){var i;"object"!=typeof r||null===r?r=v||{}:v&&(i=v,v=null,r=j({},[r,i]),v=i),Array.isArray(o)&&!r.oneSource||(o=[o]);var c,p,u,f,a,l=Object.getOwnPropertySymbols,y=Object.getPrototypeOf,s={copyFunc:!("copyFunc"in r)||r.copyFunc,funcToProto:Boolean(r.funcToProto),processSymbol:(!("processSymbol"in r)||r.processSymbol)&&"function"==typeof l,mixFromArray:Boolean(r.mixFromArray),mixToArray:Boolean(r.mixToArray),overwrite:Boolean(r.overwrite),ownProperty:Boolean(r.ownProperty),recursive:Boolean(r.recursive),otherNameMap:"otherName"in r?r.otherName:null},g=s.ownProperty,m=s.processSymbol,x=r.change,h=r.copy,A=r.except,b=r.filter;for(h&&(h=d(h),s.copyMap=h.map,s.copyRegExp=h.regexp),A&&(A=d(A,!0),s.exceptions=A.map,s.exceptRegExp=A.regexp),b&&(s["object"==typeof b?"filterRegExp":"filter"]=b),x&&(s["function"==typeof x?"changeFunc":"change"]=x),c=0,u=o.length;c<u;c++)if(i=o[c]){for(a in i)w(e,i,a,s);if(m){A={};do{for(p=0,f=(h=l(i)).length;p<f;p++)(a=h[p])in A||(w(e,i,a,s),A[a]=!0);i=g?null:y(i)}while(i)}}}return e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),j.assign=function(e){return j(e,Array.prototype.slice.call(arguments,1),{overwrite:!0,ownProperty:!0})},j.change=function(e,o){return j(e,e,{change:o,overwrite:!0,oneSource:!0})},j.copy=function(e,o){return j({},e,o)},j.mixToItems=function(e,o,r){for(var t=0,n=e.length;t<n;t++)e[t]=j(e[t],o,r);return e},j.clone=function(e){return j({},this,e)},j.filter=function(e){return j({},this,"function"==typeof e?{filter:e}:e)},j.map=function(e){return j({},this,"function"==typeof e?{change:e}:e)},j.mix=function(e,o){return j(this,e,o)},j.update=function(e){return j.change(this,e)},j.getSettings=function(){return v},j.setSettings=function(e){v="object"==typeof e?e:null},r.exports=j});